<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Model And Database（EFcore+mysql） | Johnson&#39;s Blog</title>
  <meta name="keywords" content=" C# , backend , .net , database , Model ">
  <meta name="description" content="Model And Database（EFcore+mysql） | Johnson&#39;s Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Css tipsTo align the input boxes with each other and align the label text to the right within the .info element, you can use the following CSS:1234567891011.info input,.info label &amp;#123;    display: i">
<meta property="og:type" content="article">
<meta property="og:title" content="Css tips">
<meta property="og:url" content="https://tjtgzxs.github.io/2025/09/10/Css-tips/index.html">
<meta property="og:site_name" content="Johnson&#39;s Blog">
<meta property="og:description" content="Css tipsTo align the input boxes with each other and align the label text to the right within the .info element, you can use the following CSS:1234567891011.info input,.info label &amp;#123;    display: i">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-09-10T13:15:30.047Z">
<meta property="article:modified_time" content="2025-09-10T13:15:30.047Z">
<meta property="article:author" content="Johnson">
<meta property="article:tag" content="css">
<meta property="article:tag" content="frontend">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 6.3.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>Johnson</span>
</div>

<div class="icon">
    
        
            <a title="rss"
               href="/atom.xml"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-rss"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="github"
               href="https://github.com/tjtgzxs"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="facebook"
               href="https://www.facebook.com/faker.tops"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-facebook"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
            <a title="instagram"
               href="https://www.facebook.com/faker.tops"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-instagram"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="reddit"
               href="https://www.reddit.com/user/yelog/"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-reddit"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="weibo"
               href="http://weibo.com/u/2307534817"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-weibo"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="jianshu"
               href="https://www.jianshu.com/u/ff56736de7cf"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-jianshu"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="zhihu"
               href="https://www.zhihu.com/people/jaytp/activities"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-zhihu"></use>
                    </svg>
                
            </a>
        
    
        
    
        
            <a title="oschina"
               href="https://my.oschina.net/yelog"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-oschina"></use>
                    </svg>
                
            </a>
        
    
        
    
        
            <a title="email"
               href="mailto:jaytp@qq.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=387753733&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="kugou"
               href="https://www.kugou.com/"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-kugou"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="neteasemusic"
               href="https://music.163.com/#/user/home?id=88151013"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-neteasemusic"></use>
                    </svg>
                
            </a>
        
    
</div>



    <a class="more-menus">更多菜单</a>


<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(40)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel=".net">
                        
                        .net
                        <small>(18)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="css">
                        
                        css
                        <small>(3)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Design_Patterns">
                        
                        Design_Patterns
                        <small>(5)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="nginx">
                        
                        nginx
                        <small>(5)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="react">
                        
                        react
                        <small>(7)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
                <a class="dynamic-menu "
                   target="_blank"
                        
                   href="https://github.com/tjtgzxs">github</a>
        
    </div>
    <div>
        
        <a 
                                           class="friends">Friends</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="40">
<input type="hidden" id="yelog_site_word_count" value="14.1k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>.net</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>accessibility</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>aria</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>backend</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C#</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CORS</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>css</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>database</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Eforce</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>frontend</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JWT</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Message Queue</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Model</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>nginx</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>page layout</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>php</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RabbitMQ</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>react</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>react-form</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>react-router</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>react-toast</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>reactQuery</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>server</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>styled-components</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>swagger</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>The Wild Oasis</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>toast</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>visually hidden</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>website</a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        
        <a  class="All css "
           href="/2025/09/10/Css-tips/"
           data-tag="css,frontend"
           data-author="" >
            <span class="post-title" title="Css tips">Css tips</span>
            <span class="post-date" title="2025-09-10 21:15:30">2025/09/10</span>
        </a>
        
        
        <a  class="All css "
           href="/2025/09/10/Css-visually%20hide%20text/"
           data-tag="css,frontend,accessibility,aria,visually hidden"
           data-author="" >
            <span class="post-title" title="Css visually hide text">Css visually hide text</span>
            <span class="post-date" title="2025-09-10 21:15:30">2025/09/10</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/09/08/Csharp-RabbitMq/"
           data-tag="C#,backend,.net,RabbitMQ,Message Queue"
           data-author="" >
            <span class="post-title" title="RabbitMQ Use">RabbitMQ Use</span>
            <span class="post-date" title="2025-09-08 21:21:18">2025/09/08</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/09/05/CSharp-Model%20And%20database/"
           data-tag="C#,backend,.net,database,Model"
           data-author="" >
            <span class="post-title" title="Model And Database（EFcore+mysql）">Model And Database（EFcore+mysql）</span>
            <span class="post-date" title="2025-09-05 21:21:18">2025/09/05</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/28/CSharp-JWT/"
           data-tag="C#,backend,.net,JWT"
           data-author="" >
            <span class="post-title" title="How to use JWT">How to use JWT</span>
            <span class="post-date" title="2025-08-28 19:21:18">2025/08/28</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/28/CSharp-Use%20Filter/"
           data-tag="C#,backend,.net"
           data-author="" >
            <span class="post-title" title="How to use  filter">How to use  filter</span>
            <span class="post-date" title="2025-08-28 19:21:18">2025/08/28</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/27/CSharp-Fluent%20Validator/"
           data-tag="C#,backend,.net"
           data-author="" >
            <span class="post-title" title="How to use Fluent Validator">How to use Fluent Validator</span>
            <span class="post-date" title="2025-08-27 19:21:18">2025/08/27</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/27/CSharp-Get%20Config%20And%20Secrets/"
           data-tag="C#,backend,.net"
           data-author="" >
            <span class="post-title" title="How to get Config And Secrets">How to get Config And Secrets</span>
            <span class="post-date" title="2025-08-27 19:21:18">2025/08/27</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/27/CSharp-Use%20Background%20Service/"
           data-tag="C#,backend,.net"
           data-author="" >
            <span class="post-title" title="How to Use Background Service">How to Use Background Service</span>
            <span class="post-date" title="2025-08-27 19:21:18">2025/08/27</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/27/CSharp-Use%20Efcore/"
           data-tag="C#,backend,.net,database,Eforce"
           data-author="" >
            <span class="post-title" title="How to use Efcore (Mysql)">How to use Efcore (Mysql)</span>
            <span class="post-date" title="2025-08-27 19:21:18">2025/08/27</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/27/CSharp-Get%20EnvironmentName/"
           data-tag="C#,backend,.net"
           data-author="" >
            <span class="post-title" title="How to get EnvironmentName">How to get EnvironmentName</span>
            <span class="post-date" title="2025-08-27 10:21:18">2025/08/27</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/27/CSharp-MediatR/"
           data-tag="C#,backend,.net"
           data-author="" >
            <span class="post-title" title="How to use MediatR">How to use MediatR</span>
            <span class="post-date" title="2025-08-27 10:21:18">2025/08/27</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/26/CSharp-Cache/"
           data-tag="C#,backend,.net"
           data-author="" >
            <span class="post-title" title="How to use Cache">How to use Cache</span>
            <span class="post-date" title="2025-08-26 21:21:18">2025/08/26</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/26/CSharp-Create%20Async%20function/"
           data-tag="C#,backend,.net"
           data-author="" >
            <span class="post-title" title="How to create async function">How to create async function</span>
            <span class="post-date" title="2025-08-26 21:21:18">2025/08/26</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/26/CSharp-DDD%20Structure/"
           data-tag="C#,backend,.net"
           data-author="" >
            <span class="post-title" title="How to design DDD Pattern">How to design DDD Pattern</span>
            <span class="post-date" title="2025-08-26 21:21:18">2025/08/26</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/26/CSharp-Solve%20Cors%20in%20.NET%20core%20webAPI/"
           data-tag="C#,backend,.net,CORS"
           data-author="" >
            <span class="post-title" title="How to solve cors in .Net core">How to solve cors in .Net core</span>
            <span class="post-date" title="2025-08-26 21:21:18">2025/08/26</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/26/CSharp-SignalR/"
           data-tag="C#,backend,.net"
           data-author="" >
            <span class="post-title" title="How to use SignalR">How to use SignalR</span>
            <span class="post-date" title="2025-08-26 21:21:18">2025/08/26</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/26/CSharp-Use%20DI%20inject%20services%20In%20Controller/"
           data-tag="C#,backend,.net"
           data-author="" >
            <span class="post-title" title="How to use DI inject services In Controller">How to use DI inject services In Controller</span>
            <span class="post-date" title="2025-08-26 21:21:18">2025/08/26</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/26/CSharp-Add%20swagger%20and%20swagger%20UI%20in%20.net%20core%20WebApi/"
           data-tag="C#,swagger,backend,.net"
           data-author="" >
            <span class="post-title" title="How to add swagger and swagger UI in .net core WebApi">How to add swagger and swagger UI in .net core WebApi</span>
            <span class="post-date" title="2025-08-26 14:21:18">2025/08/26</span>
        </a>
        
        
        <a  class="All .net "
           href="/2025/08/26/CSharp-use%20Identity/"
           data-tag="C#,backend,.net"
           data-author="" >
            <span class="post-title" title="How to use Identity">How to use Identity</span>
            <span class="post-date" title="2025-08-26 14:21:18">2025/08/26</span>
        </a>
        
        
        <a  class="All react "
           href="/2024/11/19/React-07-React-Hook-Form/"
           data-tag="frontend,react,website,The Wild Oasis,react-form"
           data-author="" >
            <span class="post-title" title="react-05-reactQuery">react-05-reactQuery</span>
            <span class="post-date" title="2024-11-19 17:44:03">2024/11/19</span>
        </a>
        
        
        <a  class="All react "
           href="/2024/11/15/React-06-hot-toast/"
           data-tag="frontend,react,website,The Wild Oasis,react-toast"
           data-author="" >
            <span class="post-title" title="react-05-reactQuery">react-05-reactQuery</span>
            <span class="post-date" title="2024-11-15 17:44:03">2024/11/15</span>
        </a>
        
        
        <a  class="All react "
           href="/2024/11/06/react-04-App-layout/"
           data-tag="frontend,react,website,The Wild Oasis,page layout"
           data-author="" >
            <span class="post-title" title="react-03-react-router">react-03-react-router</span>
            <span class="post-date" title="2024-11-06 17:44:03">2024/11/06</span>
        </a>
        
        
        <a  class="All react "
           href="/2024/11/06/react-05-reactQuery/"
           data-tag="frontend,react,website,The Wild Oasis,reactQuery,toast"
           data-author="" >
            <span class="post-title" title="react-05-reactQuery">react-05-reactQuery</span>
            <span class="post-date" title="2024-11-06 17:44:03">2024/11/06</span>
        </a>
        
        
        <a  class="All react "
           href="/2024/11/06/react-03-react-router/"
           data-tag="frontend,react,website,The Wild Oasis,react-router"
           data-author="" >
            <span class="post-title" title="react-03-react-router">react-03-react-router</span>
            <span class="post-date" title="2024-11-06 16:32:03">2024/11/06</span>
        </a>
        
        
        <a  class="All react "
           href="/2024/11/06/react-02-styled-components/"
           data-tag="css,frontend,react,website,The Wild Oasis,styled-components"
           data-author="" >
            <span class="post-title" title="react-02-styled-component">react-02-styled-component</span>
            <span class="post-date" title="2024-11-06 13:32:03">2024/11/06</span>
        </a>
        
        
        <a  class="All react "
           href="/2024/11/06/react-01-application_plan/"
           data-tag="frontend,react,website,The Wild Oasis"
           data-author="" >
            <span class="post-title" title="react-01-application_plan">react-01-application_plan</span>
            <span class="post-date" title="2024-11-06 11:25:23">2024/11/06</span>
        </a>
        
        
        <a  class="All Design_Patterns "
           href="/2023/09/05/Design_Patterns%20_Adapter_Pattern/"
           data-tag="backend,php"
           data-author="" >
            <span class="post-title" title="Design_Patterns _Adapter_Pattern">Design_Patterns _Adapter_Pattern</span>
            <span class="post-date" title="2023-09-05 12:01:10">2023/09/05</span>
        </a>
        
        
        <a  class="All Design_Patterns "
           href="/2023/09/01/Design_Patterns%20_Decorator_Pattern/"
           data-tag="backend,php"
           data-author="" >
            <span class="post-title" title="Design_Patterns _Decorator_Pattern">Design_Patterns _Decorator_Pattern</span>
            <span class="post-date" title="2023-09-01 12:01:10">2023/09/01</span>
        </a>
        
        
        <a  class="All Design_Patterns "
           href="/2023/08/31/Design_Patterns_Abstract%20_Factory_Pattern%20/"
           data-tag="backend,php"
           data-author="" >
            <span class="post-title" title="Design_Patterns Abstract Factory Pattern">Design_Patterns Abstract Factory Pattern</span>
            <span class="post-date" title="2023-08-31 12:01:10">2023/08/31</span>
        </a>
        
        
        <a  class="All nginx "
           href="/2023/08/30/nginx03-events/"
           data-tag="backend,website,nginx,server"
           data-author="" >
            <span class="post-title" title="nginx03-events">nginx03-events</span>
            <span class="post-date" title="2023-08-30 11:14:31">2023/08/30</span>
        </a>
        
        
        <a  class="All Design_Patterns "
           href="/2023/08/29/Design_Patterns_Factory_Pattern/"
           data-tag="backend,php"
           data-author="" >
            <span class="post-title" title="Design_Patterns Factory Pattern">Design_Patterns Factory Pattern</span>
            <span class="post-date" title="2023-08-29 12:32:10">2023/08/29</span>
        </a>
        
        
        <a  class="All Design_Patterns "
           href="/2023/08/29/Design_Patterns_Simple_Factory_Pattern/"
           data-tag="backend,php"
           data-author="" >
            <span class="post-title" title="Design_Patterns Simple Factory Pattern">Design_Patterns Simple Factory Pattern</span>
            <span class="post-date" title="2023-08-29 12:01:10">2023/08/29</span>
        </a>
        
        
        <a  class="All "
           href="/2023/08/29/git/"
           data-tag="git"
           data-author="" >
            <span class="post-title" title="Git">Git</span>
            <span class="post-date" title="2023-08-29 12:01:10">2023/08/29</span>
        </a>
        
        
        <a  class="All css "
           href="/2023/08/28/Css-Flex/"
           data-tag="css,frontend"
           data-author="" >
            <span class="post-title" title="Css-flex">Css-flex</span>
            <span class="post-date" title="2023-08-28 14:21:18">2023/08/28</span>
        </a>
        
        
        <a  class="All "
           href="/2023/08/28/docker-01/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="docker-01">docker-01</span>
            <span class="post-date" title="2023-08-28 14:21:18">2023/08/28</span>
        </a>
        
        
        <a  class="All nginx "
           href="/2023/08/28/nginx02-core/"
           data-tag="backend,website,nginx,server"
           data-author="" >
            <span class="post-title" title="nginx02-core">nginx02-core</span>
            <span class="post-date" title="2023-08-28 11:12:23">2023/08/28</span>
        </a>
        
        
        <a  class="All nginx "
           href="/2023/08/28/nginx05-http-server%20/"
           data-tag="backend,website,nginx,server"
           data-author="" >
            <span class="post-title" title="nginx05-http-server">nginx05-http-server</span>
            <span class="post-date" title="2023-08-28 11:12:23">2023/08/28</span>
        </a>
        
        
        <a  class="All nginx "
           href="/2023/08/27/nginx01-Command%20Params/"
           data-tag="backend,website,nginx,server"
           data-author="" >
            <span class="post-title" title="nginx01-cmd params">nginx01-cmd params</span>
            <span class="post-date" title="2023-08-27 16:14:31">2023/08/27</span>
        </a>
        
        
        <a  class="All nginx "
           href="/2023/08/27/nginx04-http/"
           data-tag="backend,website,nginx,server"
           data-author="" >
            <span class="post-title" title="nginx01-http">nginx01-http</span>
            <span class="post-date" title="2023-08-27 16:14:31">2023/08/27</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-CSharp-Model And database" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Model And Database（EFcore+mysql）</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel=".net">.net</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color3">C#</a>
            
            <a class="color3">backend</a>
            
            <a class="color5">.net</a>
            
            <a class="color4">database</a>
            
            <a class="color1">Model</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2025-09-10 21:15:30'>2025-09-05 21:21</time>
        
    </div>
    <div class="article-meta">
        
        <span>Count:1.5k</span>
        
        
        <span id="busuanzi_container_page_pv">
            Views 👀 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Rich-Domain-Model"><span class="toc-text">Rich Domain Model</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Principle"><span class="toc-text">Principle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Implementation"><span class="toc-text">Implementation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Add-Microsoft-EntityFrameworkCore-Relational-Package"><span class="toc-text">Add Microsoft.EntityFrameworkCore.Relational Package.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Add-Pomelo-EntityFrameworkCore-MySql-Package"><span class="toc-text">Add Pomelo.EntityFrameworkCore.MySql Package.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Add-Microsoft-EntityFrameworkCore-Tools-Package"><span class="toc-text">Add Microsoft.EntityFrameworkCore.Tools Package</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#In-Model"><span class="toc-text">In Model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Configure"><span class="toc-text">Configure</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#In-Db-Config"><span class="toc-text">In Db Config</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#In-program-cs"><span class="toc-text">In program.cs</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#In-Controller"><span class="toc-text">In Controller</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Model"><span class="toc-text">Model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#In-Entity-Config"><span class="toc-text">In Entity Config</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IN-Controller"><span class="toc-text">IN Controller</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#owned-entity"><span class="toc-text">owned entity</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#In-Model-1"><span class="toc-text">In Model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#In-Owned-Class-Geo-cs"><span class="toc-text">In Owned Class (Geo.cs)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#In-Entity-Config-1"><span class="toc-text">In Entity Config</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#In-Controller-1"><span class="toc-text">In Controller</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Aggregate-Model"><span class="toc-text">Aggregate Model</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#In-Aggregate-root-Model"><span class="toc-text">In Aggregate root Model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Entity-inside-Aggregate"><span class="toc-text">Entity inside Aggregate</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Only-add-Dbset-in-Dbcontex"><span class="toc-text">Only add Dbset in Dbcontex</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#In-Controller-2"><span class="toc-text">In Controller</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Nuget-Console"><span class="toc-text">Nuget Console</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Rich-Domain-Model"><a href="#Rich-Domain-Model" class="headerlink" title="Rich Domain Model"></a>Rich Domain Model</h1><h2 id="Principle"><a href="#Principle" class="headerlink" title="Principle"></a>Principle</h2><ol>
<li><p>A property can be read-only or modifiable only within the class itself.<br>To achieve this, define the property’s set accessor as private or use init, and then assign initial values to these properties through the constructor.</p>
</li>
<li><p>Define a parameterized constructor.<br>Defination:<br>In EF Core, if an entity class does not have a parameterless constructor, then the names of the parameters in the parameterized constructor must match the property names.</p>
<ol>
<li><p>Implementation method 1:<br> Define a parameterless constructor  as private.</p>
</li>
<li><p>Implementation method 2:<br> Do not define a parameterless constructor in the entity class, only define meaningful parameterized constructors, but require that the names of the constructor parameters match the property names.</p>
</li>
</ol>
</li>
<li><p>Mapping member variables (fields) that are not properties to database columns.<br>Implementation:</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">builder.Property(<span class="string">&quot;FieldName&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>Read-only properties that obtain their values from database columns.<br>In EF Core, backing fields are provided to support this approach: in the entity configuration code, use HasField(“FieldName”) to configure the property.</p>
</li>
<li><p>Some properties do not need to be mapped to database columns and are only used at runtime.<br>Implementation: use Ignore() to configure and exclude this property.</p>
</li>
</ol>
<h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><h3 id="Add-Microsoft-EntityFrameworkCore-Relational-Package"><a href="#Add-Microsoft-EntityFrameworkCore-Relational-Package" class="headerlink" title="Add Microsoft.EntityFrameworkCore.Relational Package."></a>Add <font color="red">Microsoft.EntityFrameworkCore.Relational</font> Package.</h3><h3 id="Add-Pomelo-EntityFrameworkCore-MySql-Package"><a href="#Add-Pomelo-EntityFrameworkCore-MySql-Package" class="headerlink" title="Add Pomelo.EntityFrameworkCore.MySql Package."></a>Add <font color="red">Pomelo.EntityFrameworkCore.MySql</font> Package.</h3><h3 id="Add-Microsoft-EntityFrameworkCore-Tools-Package"><a href="#Add-Microsoft-EntityFrameworkCore-Tools-Package" class="headerlink" title="Add Microsoft.EntityFrameworkCore.Tools Package"></a>Add <font color="red">Microsoft.EntityFrameworkCore.Tools</font> Package</h3><h2 id="In-Model"><a href="#In-Model" class="headerlink" title="In Model"></a>In Model</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Rich_Domai_Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">User</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * # Principle1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; &#125;<span class="comment">//same with init-only property</span></span><br><span class="line">    <span class="keyword">public</span> DateTime CreateDateTime&#123; <span class="keyword">get</span>; <span class="keyword">init</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> UserName &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Credit &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span>? passwordHash;<span class="comment">//Principle3 </span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> remark;<span class="comment">//backing field for Remark property(readonly from database)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span>? Remark &#123; <span class="keyword">get</span> &#123; <span class="keyword">return</span> remark; &#125; &#125;<span class="comment">//readonly from databasereadonly from database</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span>? Tag &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">User</span>()</span> &#123; &#125;<span class="comment">//for ORM</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.UserName=name;</span><br><span class="line">        <span class="keyword">this</span>.CreateDateTime=DateTime.Now;</span><br><span class="line">        <span class="keyword">this</span>.Credit = <span class="number">0</span>;</span><br><span class="line">    &#125;<span class="comment">//Principle2</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ChangeName</span>(<span class="params"><span class="built_in">string</span> newName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrWhiteSpace(newName))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;new name is invalid&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.UserName = newName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetPassword</span>(<span class="params"><span class="built_in">string</span> password</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">string</span>.IsNullOrWhiteSpace(password) || password.Length &lt; <span class="number">6</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;password is invalid&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.passwordHash = Convert.ToBase64String(System.Text.Encoding.UTF8.GetBytes(password));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Configure"><a href="#Configure" class="headerlink" title="Configure"></a>Configure</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Rich_Domai_Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserConfig</span>:<span class="title">IEntityTypeConfiguration</span>&lt;<span class="title">User</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Configure</span>(<span class="params">Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder&lt;User&gt; builder</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        builder.ToTable(<span class="string">&quot;M_Users&quot;</span>);</span><br><span class="line">        builder.HasKey(u =&gt; u.Id);</span><br><span class="line">        builder.Property(u =&gt; u.Id).ValueGeneratedOnAdd();</span><br><span class="line">        builder.Property(u =&gt; u.CreateDateTime).IsRequired();</span><br><span class="line">        builder.Property(u =&gt; u.UserName).IsRequired().HasMaxLength(<span class="number">100</span>);</span><br><span class="line">        builder.Property(u =&gt; u.Credit).IsRequired();</span><br><span class="line">        builder.Property&lt;<span class="built_in">string</span>?&gt;(<span class="string">&quot;passwordHash&quot;</span>).HasColumnName(<span class="string">&quot;PasswordHash&quot;</span>).IsRequired(<span class="literal">false</span>); <span class="comment">//shadow property must be configured here</span></span><br><span class="line">        builder.Property(u =&gt; u.Remark).HasMaxLength(<span class="number">500</span>).IsRequired(<span class="literal">false</span>).HasField(<span class="string">&quot;remark&quot;</span>);<span class="comment">//backing field(readonly from database) must be configured here </span></span><br><span class="line">        builder.Ignore(u =&gt; u.Tag);<span class="comment">//ignore Tag property</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="In-Db-Config"><a href="#In-Db-Config" class="headerlink" title="In Db Config"></a>In Db Config</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Rich_Domai_Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyDbContext</span> : <span class="title">DbContext</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> DbSet&lt;User&gt; Users &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyDbContext</span>(<span class="params">DbContextOptions&lt;MyDbContext&gt; options</span>) : <span class="title">base</span>(<span class="params">options</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnModelCreating</span>(<span class="params">ModelBuilder modelBuilder</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">base</span>.OnModelCreating(modelBuilder);</span><br><span class="line">        modelBuilder.ApplyConfigurationsFromAssembly(<span class="keyword">this</span>.GetType().Assembly);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="In-program-cs"><a href="#In-program-cs" class="headerlink" title="In program.cs"></a>In program.cs</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">builder.Services.AddDbContext&lt;MyDbContext&gt;(options =&gt;</span><br><span class="line">    options.UseMySql(<span class="string">&quot;server=localhost;user=root;password=123456;database=RichDomain;port=33060&quot;</span>, </span><br><span class="line">    ServerVersion.AutoDetect(<span class="string">&quot;server=localhost;user=root;password=123456;database=RichDomain;port=33060&quot;</span>)));</span><br></pre></td></tr></table></figure>

<h1 id="In-Controller"><a href="#In-Controller" class="headerlink" title="In Controller"></a>In Controller</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Microsoft.AspNetCore.Mvc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Rich_Domai_Model.Controllers</span>;</span><br><span class="line"></span><br><span class="line">[<span class="meta">Route(<span class="string">&quot;api/[controller]/[action]&quot;</span>)</span>]</span><br><span class="line">[<span class="meta">ApiController</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Test</span> : <span class="title">ControllerBase</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> MyDbContext _dbContext;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span>(<span class="params">MyDbContext dbContext</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _dbContext = dbContext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">HttpGet</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">async</span> Task&lt;ActionResult&lt;<span class="built_in">string</span>&gt;&gt; Hello()</span><br><span class="line">    &#123;</span><br><span class="line">        User user = <span class="keyword">new</span> User(name: <span class="string">&quot;Jane Doe&quot;</span>);</span><br><span class="line">        user.SetPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        user.ChangeName(<span class="string">&quot;Jane Smith&quot;</span>);</span><br><span class="line">        <span class="keyword">var</span> _ = <span class="keyword">await</span> _dbContext.Users.AddAsync(user);</span><br><span class="line">        <span class="keyword">await</span> _dbContext.SaveChangesAsync();</span><br><span class="line">        <span class="keyword">return</span> Ok(<span class="string">&quot;Hello from Rich Domain Model!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>#<font color="red">Enum</font></p>
<h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Rich_Domai_Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Goods</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Goods</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Goods</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">decimal</span> price, CurrencyName currency</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Name = name;</span><br><span class="line">        Price = price;</span><br><span class="line">        Currency = currency;</span><br><span class="line">        <span class="keyword">this</span>.CreateDateTime=DateTime.Now;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> DateTime CreateDateTime &#123; <span class="keyword">get</span>; <span class="keyword">init</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">decimal</span> Price &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> CurrencyName Currency &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> CurrencyName</span><br><span class="line">&#123;</span><br><span class="line">    CNY,</span><br><span class="line">    USD,</span><br><span class="line">    EUR,</span><br><span class="line">    NZD</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="In-Entity-Config"><a href="#In-Entity-Config" class="headerlink" title="In Entity Config"></a>In Entity Config</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Rich_Domai_Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GoodConfig</span>:<span class="title">IEntityTypeConfiguration</span>&lt;<span class="title">Goods</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Configure</span>(<span class="params">Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder&lt;Goods&gt; builder</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        builder.ToTable(<span class="string">&quot;M_Goods&quot;</span>);</span><br><span class="line">        builder.HasKey(g =&gt; g.Id);</span><br><span class="line">        builder.Property(g =&gt; g.Id).ValueGeneratedOnAdd();</span><br><span class="line">        builder.Property(g =&gt; g.CreateDateTime).IsRequired();</span><br><span class="line">        builder.Property(g =&gt; g.Name).IsRequired().HasMaxLength(<span class="number">200</span>);</span><br><span class="line">        builder.Property(g =&gt; g.Price).IsRequired().HasColumnType(<span class="string">&quot;decimal(18,2)&quot;</span>);</span><br><span class="line">           <span class="comment">//builder.Property(g =&gt; g.Currency).IsRequired();// Save as 0(CNY) ,1(USD),2(EUR),3(NZD) CNY,</span></span><br><span class="line">        builder.Property(g =&gt; g.Currency).IsRequired().HasConversion&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="IN-Controller"><a href="#IN-Controller" class="headerlink" title="IN Controller"></a>IN Controller</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">HttpGet</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;ActionResult&lt;<span class="built_in">string</span>&gt;&gt; Good()</span><br><span class="line">&#123;</span><br><span class="line">    Goods goods = <span class="keyword">new</span> Goods(name: <span class="string">&quot;Laptop&quot;</span>, price: <span class="number">999.99</span>m, currency: CurrencyName.USD);</span><br><span class="line">    <span class="keyword">var</span> _ = <span class="keyword">await</span> _dbContext.Goods.AddAsync(goods);</span><br><span class="line">    <span class="keyword">await</span> _dbContext.SaveChangesAsync();</span><br><span class="line">    <span class="keyword">return</span> Ok(<span class="string">&quot;Good from Rich Domain Model!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="owned-entity"><a href="#owned-entity" class="headerlink" title="owned entity"></a>owned entity</h1><h2 id="In-Model-1"><a href="#In-Model-1" class="headerlink" title="In Model"></a>In Model</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Rich_Domai_Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Shop</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> Geo Location &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="In-Owned-Class-Geo-cs"><a href="#In-Owned-Class-Geo-cs" class="headerlink" title="In Owned Class (Geo.cs)"></a>In Owned Class (Geo.cs)</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Rich_Domai_Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Geo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">double</span> Longitude &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">double</span> Latitude &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Geo</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Geo</span>(<span class="params"><span class="built_in">double</span> longitude, <span class="built_in">double</span> latitude</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (longitude&lt;<span class="number">-180</span>||longitude&gt;<span class="number">180</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;longitude invalid&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (latitude &lt; <span class="number">-180</span> || latitude &gt; <span class="number">180</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentException(<span class="string">&quot;longitude invalid&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Longitude = longitude;</span><br><span class="line">        Latitude = latitude;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="In-Entity-Config-1"><a href="#In-Entity-Config-1" class="headerlink" title="In Entity Config"></a>In Entity Config</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore.Metadata.Builders;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Rich_Domai_Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ShopConfig</span>:<span class="title">IEntityTypeConfiguration</span>&lt;<span class="title">Shop</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Configure</span>(<span class="params">EntityTypeBuilder&lt;Shop&gt; builder</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">        builder.ToTable(<span class="string">&quot;M_shops&quot;</span>);</span><br><span class="line">        builder.OwnsOne(x =&gt; x.Location, a =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            a.WithOwner();</span><br><span class="line">            a.Property(p =&gt; p.Latitude).HasColumnName(<span class="string">&quot;latitude&quot;</span>);</span><br><span class="line">            a.Property(p =&gt; p.Longitude).HasColumnName(<span class="string">&quot;longitude&quot;</span>);</span><br><span class="line">        &#125;);<span class="comment">//define owned entity</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="In-Controller-1"><a href="#In-Controller-1" class="headerlink" title="In Controller"></a>In Controller</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">HttpGet</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;ActionResult&lt;<span class="built_in">string</span>&gt;&gt; Shop()</span><br><span class="line">&#123;</span><br><span class="line">    Shop shop = <span class="keyword">new</span> Shop</span><br><span class="line">    &#123;</span><br><span class="line">        Name = <span class="string">&quot;Tech Store&quot;</span>,</span><br><span class="line">        Location = <span class="keyword">new</span> Geo(latitude: <span class="number">37.7749</span>, longitude: <span class="number">-122.4194</span>)</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">await</span> _dbContext.Shops.AddAsync(shop);</span><br><span class="line">    <span class="keyword">await</span> _dbContext.SaveChangesAsync();</span><br><span class="line">    <span class="keyword">return</span> Ok(<span class="string">&quot;Shop from Rich Domain Model!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Aggregate-Model"><a href="#Aggregate-Model" class="headerlink" title="Aggregate Model"></a>Aggregate Model</h1><ol>
<li>In the aggregate root entity, define methods to manage and manipulate all entities contained within the aggregate.</li>
<li>In the DbContext, only define DbSet properties for aggregate root entities, not for entities within the aggregates.</li>
<li>External code can access the entities inside an aggregate only via the aggregate root.</li>
</ol>
<h2 id="In-Aggregate-root-Model"><a href="#In-Aggregate-root-Model" class="headerlink" title="In Aggregate root Model"></a>In Aggregate root Model</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Rich_Domai_Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Order</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> DateTime CreateDateTime &#123; <span class="keyword">get</span>; <span class="keyword">init</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">double</span> TotalPrice &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span> ; &#125;</span><br><span class="line">    <span class="keyword">public</span> List&lt;OrderDetail&gt; OrderDetails &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;= <span class="keyword">new</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Order</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Order</span>(<span class="params">DateTime createDateTime</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        CreateDateTime = createDateTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">AddOrderDetail</span>(<span class="params">Goods goods, <span class="built_in">int</span> quantity</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (goods == <span class="literal">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="keyword">nameof</span>(goods));</span><br><span class="line">        <span class="keyword">if</span> (quantity &lt;= <span class="number">0</span>) <span class="keyword">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException(<span class="keyword">nameof</span>(quantity), <span class="string">&quot;Quantity must be greater than zero.&quot;</span>);</span><br><span class="line">       <span class="built_in">bool</span> detail=OrderDetails.Any(x=&gt;x.goods.Id==goods.Id);</span><br><span class="line">       <span class="keyword">if</span> (detail)</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">var</span> existingDetail = OrderDetails.First(x =&gt; x.goods.Id == goods.Id);</span><br><span class="line">           existingDetail.Quantity += quantity;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">var</span> newDetail = <span class="keyword">new</span> OrderDetail</span><br><span class="line">           &#123;</span><br><span class="line">               </span><br><span class="line">               goods = goods,</span><br><span class="line">               Quantity = quantity</span><br><span class="line">           &#125;;</span><br><span class="line">           OrderDetails.Add(newDetail);</span><br><span class="line">       &#125;</span><br><span class="line">       TotalPrice += (<span class="built_in">double</span>)(goods.Price * quantity);</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Entity-inside-Aggregate"><a href="#Entity-inside-Aggregate" class="headerlink" title="Entity inside Aggregate"></a>Entity inside Aggregate</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Rich_Domai_Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OrderDetail</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> Order order &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> Goods goods &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;<span class="comment">//OK</span></span><br><span class="line">    <span class="comment">// public int goods_id &#123; get; set; &#125;//Better</span></span><br><span class="line">    <span class="comment">// Cross-aggregate references should be made only to aggregate roots,</span></span><br><span class="line">    <span class="comment">// and these references should use the root entity’s ID rather than the root entity object itself, 4</span></span><br><span class="line">    <span class="comment">// to support future microservice decomposition.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Quantity &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Only-add-Dbset-in-Dbcontex"><a href="#Only-add-Dbset-in-Dbcontex" class="headerlink" title="Only add Dbset in Dbcontex"></a>Only add Dbset<Root> in Dbcontex</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> DbSet&lt;Order&gt; Orders &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;<span class="comment">// Only aggregate root in DbContext</span></span><br></pre></td></tr></table></figure>

<h2 id="In-Controller-2"><a href="#In-Controller-2" class="headerlink" title="In Controller"></a>In Controller</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">HttpGet</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;ActionResult&lt;<span class="built_in">string</span>&gt;&gt; AddOrder()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> Order = <span class="keyword">new</span> Order(createDateTime: DateTime.Now) &#123; &#125;;<span class="comment">//Only c</span></span><br><span class="line">    Goods? good = _dbContext.Goods.FirstOrDefault(g =&gt; g.Id == <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> s=Order.AddOrderDetail(good,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">await</span> _dbContext.Orders.AddAsync(Order);</span><br><span class="line">    <span class="keyword">await</span> _dbContext.SaveChangesAsync();</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Shop OK&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Nuget-Console"><a href="#Nuget-Console" class="headerlink" title="Nuget Console"></a>Nuget Console</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">PM&gt; </span><span class="language-bash">Add-Migration Init</span></span><br><span class="line"><span class="meta prompt_">PM&gt; </span><span class="language-bash">Update-Database</span></span><br></pre></td></tr></table></figure>


      
       <hr><span style="font-style: italic;color: gray;"> Please indicate the source of the reprint. Please verify the source of the quotation in the article. Please point out any mistakes or unclear expressions. You can comment in the comments section below or email johnson27945@outlook.com, thank you for your support! </span>
    </div>
</article>







    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2016-2020 zlog
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
        /* 渲染*/
        function HTMLDecode(text) {
            var temp = document.createElement("div");
            temp.innerHTML = text;
            var output = temp.innerText || temp.textContent;
            temp = null;
            return output;
        }
        if (window.mermaid){
            window.mermaid = null
        }
        $.getScript("//cdn.jsdelivr.net/npm/mermaid@8.4.2/dist/mermaid.min.js", function () {
            var mermaidOptions = JSON.parse(HTMLDecode("{&#34;theme&#34;:&#34;default&#34;,&#34;startOnLoad&#34;:true,&#34;flowchart&#34;:{&#34;useMaxWidth&#34;:false,&#34;htmlLabels&#34;:true}}"))
            if (window.mermaid) {
                mermaid.initialize(mermaidOptions)
                mermaid.contentLoaded()
            }
        })
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>






<div class="mobile-menus-out" >

</div>
<div class="mobile-menus">
    
    
    
    
    <a class="dynamic-menu " target="_blank"  href="https://github.com/tjtgzxs">github</a>
    
</div>


</html>
